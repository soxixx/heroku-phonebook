{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/PersonService.js","App.js","index.js"],"names":["Filter","value","onChange","Person","person","handleDelete","name","number","onClick","Persons","persons","map","id","PersonForm","onSubmit","nameValue","numValue","nameChange","numChange","type","Notification","message","color","NotificaitonStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","noticeMessage","setNoticeMessage","noticeColor","setNoticeColor","useEffect","personService","toNotify","msg","setTimeout","personsToShow","filter","arr","ele","toLowerCase","match","event","target","preventDefault","currentPerson","find","personObject","length","returnedPerson","concat","window","alert","confirm","updatedPerson","catch","error","one","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84380820.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange}) => {\n    return (\n        <div>\n            filter shown with: <input value={value} onChange={onChange}/>\n        </div>\n    )\n}\n\nexport default Filter ","import React from 'react'\n\n\nconst Person = ({person,handleDelete}) => {\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person)}>delete</button>\n        </div>\n    \n    )\n}\n\nconst Persons = ({persons,handleDelete}) => {\n    return (\n        <div>\n            {persons.map(person => <Person key={person.id} person={person} handleDelete={handleDelete}/>)}\n        </div>\n    \n    )\n}\n\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({onSubmit,nameValue,numValue,nameChange,numChange}) =>{\n    return (\n      <form onSubmit={onSubmit}>\n        <div>\n          name: <input value={nameValue} onChange={nameChange}/>\n        </div>\n        <div>\n          number: <input value={numValue} onChange={numChange}/>\n        </div>\n        \n        <div><button type=\"submit\">add</button></div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message, color }) => {\n    if (message === null) {\n      return null\n    }\n    const NotificaitonStyle = {\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    NotificaitonStyle.color = color\n  \n    return (\n      <div style={NotificaitonStyle}>\n        {message}\n      </div>\n    )\n  }\n \nexport default Notification","import axios from 'axios'\n\nconst baseUrl =  '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\n\nconst deletePerson = (person) => {\n    const request = axios.delete(`${baseUrl}/${person.id}`,)\n    return request.then(response => response.data)\n}\n\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { \n    getAll: getAll, \n    create: create, \n    update: update,\n    deletePerson: deletePerson\n}","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nimport personService from './services/PersonService'\n\nfunction contains(arr,ele){\n  arr = arr.toLowerCase()\n  ele = ele.toLowerCase()\n  if (null === arr.match(ele)){return false}\n  else {return true}\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ noticeMessage, setNoticeMessage ] = useState(null)\n  const [ noticeColor, setNoticeColor ] = useState('green')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const handleNewName = (event) => setNewName(event.target.value)\n  const handleNewNumber = (event) => setNewNumber(event.target.value)\n  const handleNewFilter = (event) => setNewFilter(event.target.value)\n\n  const toNotify = (msg) =>{\n    setNoticeMessage(msg)\n    setTimeout(() => {\n      setNoticeMessage(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const currentPerson = persons.find(person => person.name === newName)\n    if (null == currentPerson){\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson=>{\n          setPersons(persons.concat(returnedPerson))\n          setNoticeColor('green')\n          toNotify(`Added ${newName}`)\n        })\n    }\n    else{\n      const sameNameAndNum = currentPerson.number === newNumber\n      if (!sameNameAndNum){\n        const confirmUpdate = (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one? `))\n        if (confirmUpdate) { \n          const updatedPerson = { ...currentPerson, number: newNumber}\n          personService\n            .update(updatedPerson.id, updatedPerson)\n            .then(response => {\n              setPersons(persons.map(person => person.id !== updatedPerson.id ? person :response))\n              setNoticeColor('green')\n              toNotify(`Updated ${newName}`)\n            })\n            .catch(\n              error => {\n                // console.log(`Information of ${newName} has already been removed from server`)\n                setNoticeColor('red')\n                toNotify(`Information of ${newName} has already been removed from server`)\n                setPersons(persons.filter(person=>person.id !== updatedPerson.id))\n              }\n            )\n        } \n      }\n      else window.alert(`${newName} is already added to phonebook`)\n    }\n    setNewName('')\n    setNewNumber('') \n  }\n\n  const handleDelete = (person) => {\n    const confirmDelete = window.confirm(`Delete ${person.name}?`)\n    if (confirmDelete) {\n      personService\n        .deletePerson(person)\n        .then(() => {\n          setPersons(persons.filter(one => one.id !== person.id))\n        })\n        .catch(() => {\n          alert(`The person ${person.name} was already deleted from the server.`)\n          setPersons(persons.filter(one => one.id !== person.id))\n        })\n    }\n  }\n\n  const personsToShow = '' === newFilter ? persons : persons.filter(person => contains((person.name),newFilter))\n\n  return (\n    <div>\n       <Notification message={noticeMessage} color={noticeColor}/>\n      <h2>Phonebook</h2>\n      <Filter value={newFilter} onChange={handleNewFilter} />\n\n      <h3>Add a new</h3>\n      <PersonForm onSubmit={addPerson} nameValue={newName} numValue={newNumber} nameChange={handleNewName} numChange={handleNewNumber}/>\n\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}